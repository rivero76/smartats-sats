This is the exact feature that transitions your product from a diagnostic tool into a true career coach. By persisting these roadmaps in the database, you also create a massive retention loopâ€”users will keep coming back to your app to check off their progress.

Here is the structured Markdown prompt. You can copy everything below the line and paste it directly into your VS Code AI chat to start generating the code.

Role: Act as a Senior Full-Stack Lead Developer.

Context: We are executing Phase P15 of our product roadmap: "The Upskilling Roadmap Engine." Currently, our ATS scoring engine successfully identifies missing_skills by comparing a user's baseline against a job description. We now need to build a feature that takes those missing skills, passes them to an LLM, and generates an actionable, multi-step learning roadmap complete with practical portfolio project suggestions. We also need to persist this roadmap in the database so the user can track their progress over time. Our stack is React, Supabase (PostgreSQL), and Supabase Edge Functions.

Task: Please review the following Agile User Stories. For each story, generate the necessary Supabase database schema/migrations, Edge Function code (TypeScript), and React UI components to satisfy the Acceptance Criteria. Let's tackle them one by one.

Epic: The Upskilling Roadmap Engine
User Story 1: Database Schema & State Management

As the backend system,

I need to store the generated learning plans and track the user's progress through individual milestones,

So that users can save their roadmaps, leave the app, and return later to continue their upskilling journey.

Acceptance Criteria:

Create a learning_roadmaps table (columns: id, user_id, target_role, source_ats_analysis_id, status, created_at).

Create a roadmap_milestones table linked to the roadmap (columns: id, roadmap_id, skill_name, milestone_type [e.g., 'course', 'project', 'interview_prep'], description, is_completed, order_index).

Implement Row-Level Security (RLS) policies ensuring users can only SELECT, INSERT, UPDATE, and DELETE their own roadmaps and milestones.

User Story 2: The LLM Generation Edge Function

As a job applicant,

I want the AI to analyze my missing skills and generate a logical, step-by-step learning sequence,

So that I know exactly what to learn first and how to prove I've learned it.

Acceptance Criteria:

Create a new Supabase Edge Function called generate-upskill-roadmap.

The function should accept an array of missing_skills and a target_role.

Write an LLM prompt that enforces a strict JSON schema output (matching our Phase P10 quality controls). The output must break the skills into sequenced milestones and include at least one practical "portfolio project" outcome.

The function must automatically insert the generated data into the learning_roadmaps and roadmap_milestones tables and return the roadmap ID to the client.

User Story 3: Roadmap UI & Progress Tracking

As a job applicant,

I want an interactive dashboard where I can view my learning milestones and mark them as complete,

So that I can see my adherence score visually improve as I close my skill gaps.

Acceptance Criteria:

Create a new React component (UpskillingRoadmap.tsx).

Fetch and display the user's milestones in a sequenced timeline UI.

Add a checkbox/toggle for each milestone that updates the is_completed flag in the roadmap_milestones table.

Add a progress bar at the top of the component that calculates (completed_milestones / total_milestones) * 100 to show overall roadmap completion.

PM Strategy Note
When feeding this to Codex, I recommend asking it to strictly follow the Phase P10 structured output patterns you already established for the ATS matcher. This ensures the LLM doesn't hallucinate weird milestone formats and strictly adheres to the JSON schema expected by your React frontend.
